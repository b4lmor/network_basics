# Передача файла по TCP с подсчётом скорости передачи данных

Вам необходимо разработать протокол передачи произвольного файла с одного компьютера на другой и написать клиент и сервер, реализующие этот протокол. Сервер также должен выводить скорость приёма данных от клиента.

## Описание

- **Сервер**:
    - Передаётся в параметрах номер порта, на котором он будет ждать входящих соединений от клиентов.

- **Клиент**:
    - Передаётся в параметрах относительный или абсолютный путь к файлу, который нужно отправить.
    - Длина имени файла не превышает 4096 байт в кодировке UTF-8.
    - Размер файла не более 1 терабайта.
    - Также передаётся в параметрах DNS-имя (или IP-адрес) и номер порта сервера.

## Протокол передачи

- Клиент передаёт серверу:
    - Имя файла в кодировке UTF-8
    - Размер файла
    - Содержимое файла

- Для передачи используется TCP. Протокол передачи следует придумать самостоятельно (т.е. программы разных студентов могут оказаться несовместимы).

## Сохранение файла

- Сервер сохраняет полученный файл в поддиректорию `uploads` своей текущей директории.
- Имя файла, по возможности, должно совпадать с именем, которое передал клиент.
- Сервер не должен писать за пределы директории `uploads`.

## Вывод информации о скорости

- В процессе приёма данных от клиента:
    - Сервер должен раз в 3 секунды выводить в консоль:
        - Мгновенную скорость приёма
        - Среднюю скорость за сеанс
    - Скорости выводятся отдельно для каждого активного клиента.
    - Если клиент был активен менее 3 секунд, скорость должна быть выведена для него один раз.

- Под скоростью здесь подразумевается количество байтов, переданных за единицу времени.

## Проверка и завершение

- После успешного сохранения всего файла сервер проверяет, совпадает ли размер полученных данных с размером, переданным клиентом.
- Он сообщает клиенту об успехе или неуспехе операции, после чего закрывает соединение.

- Клиент должен вывести на экран сообщение о том, успешной ли была передача файла.

## Освобождение ресурсов

- Все используемые ресурсы ОС должны быть корректно освобождены, как только они больше не нужны.

## Параллельное обслуживание клиентов

- Сервер должен уметь работать параллельно с несколькими клиентами.
- Для этого необходимо использовать треды (POSIX threads или их аналог в вашей ОС).
- Сразу после приёма соединения от одного клиента, сервер ожидает следующих клиентов.

## Обработка ошибок

- В случае ошибки сервер должен разорвать соединение с клиентом, но продолжать обслуживать остальных клиентов.
